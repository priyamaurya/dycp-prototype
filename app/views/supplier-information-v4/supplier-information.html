{% extends "layouts/main.html" %}

{% block header %}
  {% include("includes/header-with-nav.html") %}
{% endblock %}

{% block beforeContent %}
    {% include("includes/phase-banner.html") %}
    {% include("includes/back-link.html") %}
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds govuk-body">


    <h1 class="govuk-heading-l">
      <span class="govuk-label--l">{{ data['orgName'] }}</span>
    </h1>



    <h2 class="govuk-heading-m">Supplier information</h2>

    {% if data.company.registered_office_address.address_line_1 is defined %}

      {% set href="suppliers-c/individual-or-org" %}
      {% set value = "" %}
      {% set status = "In progress" %}

    {% elif data['legalForm'] | length != "0" %}

      {% set href="suppliers-c/individual-or-org" %}
      {% set value = "" %}
      {% set status = "Completed" %}

    {% elif data['addressTypeBasic'] | length != "0" %}

      {% set href="suppliers-c/individual-or-org" %}
      {% set value = "" %}
      {% set status = "In progress" %}

    {% else %}

      {% set href="suppliers-c/individual-or-org" %}
      {% set value = "" %}
      {% set status = "Not started" %}

    {% endif %}



    <dl class="govuk-summary-list">
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          <a class="govuk-link govuk-link--no-visited-state" href="{{ href }}">Basic information</a>
        </dt>
        <dd class="govuk-summary-list__value">
          {{ value }}
        </dd>
        <dd class="govuk-summary-list__actions">
            <strong class="govuk-tag">{{ status }}</strong>
        </dd>
      </div>

    </dl>

    {% if (data['connectedPersonCount'] == "1") %}

        {% set href="connected/add-another-connected-person" %}
        {% set value = "1 connected person" %}
        {% set status = "Completed" %}

      {% elif data['addAnotherConnectedPerson'] | length != "0" and data['connectedPersons'] | length
        != "0" %}

        {% set href="connected/add-another-connected-person" %}
        {% set value =  data ['connectedPersonCount'] + " connected persons" %}
        {% set status = "Completed" %}

      {% elif data['connectedPsc'] == "No" %}

        {% set href="connected/connected-question" %}
        {% set value =  "No connected persons" %}
        {% set status = "Completed" %}

      {% elif data['connectedPsc'] | length != "0" and data['connectedPersons'] | length != "0" %}

        {% set href="connected/connected-question" %}
        {% set value =  "" %}
        {% set status = "In progress" %}

      {% else %}

        {% set href="connected/connected-question" %}
        {% set value =  "" %}
        {% set status = "Not started" %}

    {% endif %}


    <dl class="govuk-summary-list">
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          <a class="govuk-link govuk-link--no-visited-state" href="{{ href }}">Connected persons</a>
        </dt>
        <dd class="govuk-summary-list__value">
          {{ value }}
        </dd>
        <dd class="govuk-summary-list__actions">
            <strong class="govuk-tag">{{ status }}</strong>
        </dd>
      </div>

    </dl>


    {% if data['addAnotherExclusionMan'] | length != "0" and data['exclusionManArray'] | length >=
    "2" %}

      {% set href="mandatory/add-another-exclusion" %}
      {% set value = data ['exclusionManCount'] + " mandatory exclusions" %}
      {% set status = "Completed" %}


    {% elif data['addAnotherExclusionMan'] | length != "0" %}

      {% set href="mandatory/add-another-exclusion" %}
      {% set value = data ['exclusionManCount'] + " mandatory exclusion" %}
      {% set status = "Completed" %}


    {% elif data['exclusionMan'] == 'None of the above' %}

      {% set href="mandatory/exclusion-grounds" %}
      {% set value = "No mandatory exclusions" %}
      {% set status = "Completed" %}


    {% elif data['eventSub'] | length != "0" %}

      {% set href="mandatory/mandatory/check-answers" %}
      {% set value = "" %}
      {% set status = "In progress" %}


    {% else %}

      {% set href="mandatory/exclusion-grounds" %}
      {% set value = "" %}
      {% set status = "Not started" %}


    {% endif %}

    <dl class="govuk-summary-list">
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          <a class="govuk-link govuk-link--no-visited-state" href="{{ href }}">Mandatory exclusions</a>
        </dt>
        <dd class="govuk-summary-list__value">
          {{ value }}
        </dd>
        <dd class="govuk-summary-list__actions">
          <strong class="govuk-tag">{{ status }}</strong>
        </dd>
      </div>

    </dl>


    {% if data['addAnotherExclusion'] | length != "0" and data['exclusionArray'] | length >= "2" %}

      {% set href="discretionary/add-another-exclusion" %}
      {% set value = data ['exclusionCount'] + " discretionary exclusions" %}
      {% set status = "Completed" %}


    {% elif data['addAnotherExclusion'] | length != "0" %}

      {% set href="discretionary/add-another-exclusion" %}
      {% set value = data ['exclusionCount'] + " discretionary exclusion" %}
      {% set status = "Completed" %}


      {% elif data['exclusionDis'] == 'None of the above' %}

      {% set href="discretionary/exclusion-grounds" %}
      {% set value = "No discretionary exclusions" %}
      {% set status = "Completed" %}


      {% elif data['eventSubDis'] | length != "0" %}

      {% set href="discretionary/check-answers" %}
      {% set value = "" %}
      {% set status = "In progress" %}


    {% else %}

      {% set href="discretionary/exclusion-grounds" %}
      {% set value = "" %}
      {% set status = "Not started" %}


    {% endif %}

    <dl class="govuk-summary-list">
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          <a class="govuk-link govuk-link--no-visited-state" href="{{ href }}">Discretionary exclusions</a>
        </dt>
        <dd class="govuk-summary-list__value">
          {{ value }}
        </dd>
        <dd class="govuk-summary-list__actions">
          <strong class="govuk-tag">{{ status }}</strong>
        </dd>
      </div>

    </dl>


    {% if data['addAnotherFile'] == "No" %}

      {% set href="economical/check-answers" %}
      {% set value = "" %}
      {% set status = "Completed" %}

    {% elif data['financialStandIn'] | length != "0" and data['financialsYear'] | length == "0" %}

      {% set href="economical/financial-question" %}
      {% set value = "" %}
      {% set status = "In progress" %}

    {% else %}

      {% set href="economical/financial-question" %}
      {% set value = "" %}
      {% set status = "Not started" %}

    {% endif %}

    <dl class="govuk-summary-list">
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          <a class="govuk-link govuk-link--no-visited-state" href="{{ href }}">Financial information</a>
        </dt>
        <dd class="govuk-summary-list__value">
          {{ value }}
        </dd>
        <dd class="govuk-summary-list__actions">
          <strong class="govuk-tag">{{ status }}</strong>
        </dd>
      </div>
    </dl>



    <a href="download/declaration" role="button" draggable="false" class="govuk-button govuk-button--start govuk-!-margin-top-5"
            data-module="govuk-button">
            Share my data
            <!-- <svg class="govuk-button__start-icon" xmlns="http://www.w3.org/2000/svg" width="17.5" height="19"
                viewBox="0 0 33 40" aria-hidden="true" focusable="false" style="rotate: 270deg;">
                <path fill="currentColor" d="M0 0h13l20 20-20 20H0l20-20z" />
            </svg> -->
      </a>

      <div class="govuk-!-margin-top-3">
        <a class="govuk-link" href="org-dashboard">Back to organisation details</a>
      </div>

  </div>
</div>

{% endblock %}
